<!DOCTYPE html>
<html>
<head>
  <title>Update Product</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body{font-family:Arial;background:#fff7ed;padding:30px}
    .box{max-width:540px;margin:auto;background:#fff;padding:22px;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
    h2{color:#f59e0b;text-align:center}
    label{display:block;margin-top:12px;font-weight:600}
    input,textarea{width:100%;padding:10px;margin-top:6px;border-radius:8px;border:1px solid #ccc}
    .btn-row{display:flex;gap:10px;margin-top:16px}
    .btn{flex:1;padding:10px;border-radius:8px;border:none;color:white;font-weight:700;cursor:pointer}
    .update{background:#f59e0b} .cancel{background:#6c757d}
    .errors{background:#fff3f2;border:1px solid #f5c2c7;color:#842029;padding:10px;border-radius:8px;margin-bottom:12px}
    ul{margin:0;padding-left:18px}
  </style>
</head>
<body>
  <div class="box">
    <h2>Update Product</h2>

    <% if (error) { %>
      <div class="errors">
        <strong>Validation error(s):</strong>
        <ul>
        <% Object.values(error).forEach(err => { %>
            <li><%= err.message %></li>
        <% }) %>
        </ul>
      </div>
    <% } %>

    <form action="/products/update_product/<%= product._id %>" method="POST">
      <label for="name">Name</label>
      <input id="name" name="name" value="<%= product.name %>" required>

      <label for="description">Description</label>
      <textarea id="description" name="description" rows="4" required><%= product.description %></textarea>

      <label for="price">Price</label>
      <input id="price" name="price" type="number" step="0.01" min="0" value="<%= product.price %>" required>

      <div class="btn-row">
        <button type="submit" class="btn update">Update Product</button>
        <a href="/products/retrieve_product" class="btn cancel" style="text-align:center;line-height:28px;text-decoration:none">Cancel</a>
      </div>
    </form>
  </div>
</body>
</html>
